# 앞으로 추가할 요구사항

```java
---
title: "CRUD 게시판 회고, version2 추가 기능"
categories:
- "board project"
date: 2023-06-17
toc: true
toc_label: CATEGORY
toc_sticky: true
---
```

총 4개의 포스팅으로 밑의 CRUD 게시판 기본 요구사항을 구현해봤다.

**기본 요구사항**

게시판 기능

- 게시글 생성
- 게시글 전체 조회
- 게시글 상세 정보 조회
- 게시글 수정
- 게시글 삭제

기본 요구사항을 만들면서 아쉬웠던 점을 정리해보았다.

## 아쉬웠던 점

### 무계획?

처음 게시판을 설계했을 때, 사실 post entity하나만 정하고 다른 것들은 그냥 두루뭉실하게 정하고 넘겼다. 

강의에서 게시판같은 걸 따라 만들기를 해봤기때문에 비슷하게 따라하면 될줄 알았지만 만들어 보니 아니었다.

view파일을 만들 때  user flow는커녕 api 명세서같은 것도 없다보니 이쯤이면 삭제버튼이 있어야겠지? 생각하면서 버튼 추가하고 api만들는 식의 주먹구구식으로 만들었다.

추가 요구사항을 구현할때는 요구사항 분석이나 api명세서 정도는 정하고 가야겠다.

### 역할 분리

controller 파일을 보면 service파일에 있어야 하는 기능들도 함께 처리하고 있다. ****[CRUD 게시판 만들기4 controller](https://hstla.github.io/board%20project/%EA%B2%8C%EC%8B%9C%ED%8C%90-controller/)****

사실 내가 service파일에 어떤 코드가 들어가야하는지 아직 헷갈리는 것도 있어 분리를 못한 것도 있지만, 아직까지는 기능이 많지 않아 controller파일에 몰려있어도 충분히 이해할 수 있다.

하지만 에러처리, 기능 추가, 등 점점 코드 수가 증가하면 controller파일만으로 처리하는 것이 복잡해질 것이다.

역할 분리에 대해 공부(아마 MVC패턴?)을 하고 다음 추가 요구사항부터 구현해보자.

### setter의 사용

setter를 사용하면서 기능적으로는 큰 문제 없이 구현할 수 있다. 

하지만 setter를 사용하여 값을 변경하는 기능이 많아지면서 어디서 값을 변경했는지 추적하는게 어려웠다. 예를 들어 조회 수를 올려주는 메서드를 찾는데 이게 controller에서 구현했나, repository에서 구현했나 헷갈려 찾을 때 시간이 걸릴때가 있었다.

웹을 확장하면서 이런 일이 수시로 발생할 것이다. 방지하기위해 로그인 기능을 구현할 때는 setter말고 `@Builder`  애노테이션을 사용해보자.

## **추가 요구사항**

계획한 요구사항으로는 

**로그인 기능**

- email을 id로 사용
- 로그인 한 회원만 게시판 생성 및 수정, 삭제 가능
- 관리자 속성 추가하여 게시글 수정 및 삭제 가능

**게시글과 멤버 도메인을 매핑하기 위해 DBMS추가 (mysql or H2 중 선택)**

**비밀번호 찾기 기능- email로 임시 비밀번호 보내기(radis 사용)**

**게시글에 이미지 추가 기능** 

**git action을 사용하여 ci/cd를 구축**

정도 있다. 

이중에서도 entity를 추가할 수 있고 확장가능성이 있는 **로그인 기능**을 먼저 구현할 계획이다.

오늘 정리한 아쉬운 점을 고려하면서 로그인 기능을 구현해보자!